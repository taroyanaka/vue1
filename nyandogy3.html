<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ç®¡ç†</title>
    <script src="./crtTemplates.js"></script>
    <script src="./vue3.js"></script>
    <style>
        .crt { margin: 0px; padding: 0px; border: 1px solid #ccc; }
        .message-container {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            z-index: 9999;
            text-align: center;
            padding: 10px;
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
        }
    </style>
<!--
crt -> creature
fu -> fullness
ha -> happiness
pp -> poop
mPp -> maxPoop
gld -> gold
ev -> evolution
nNm -> newName
nEm -> newEmoji
nGd -> newGold
tm -> time
fd -> food
hd -> happinessDecrease
pb -> progressBar
rem -> remaining
mny -> money
cg -> cage
dsc -> description
cnd -> condition
-->
</head>
<body>
    <div id="app">
        <div class="message-container">
            <!-- this.messageã‚’è¡¨ç¤º -->
            <div>{{ message }}</div>
            <div v-for="crt in crts" :key="crt.id">{{ crt.message }}</div>
        </div>
        <h3>ğŸ’°: {{ mny }} mny  ğŸª¦: {{ deathCount }} â±ï¸: {{ totalInterval }}</h3>
        
        <div v-for="crt in crts" :key="crt.id" class="crt">
            ğŸ´<span @click="feed(crt)">{{ crt.fu }} / {{ crt.ev[crt.type]?.fu || 100 }}
                <progress :value="crt.fu" max="100">{{ crt.fu }}%</progress>
            </span>
            ğŸ›<span @click="play(crt)">{{ crt.ha }} / {{ crt.ev[crt.type]?.ha || 100 }}
                <progress :value="crt.ha" max="100">{{ crt.ha }}%</progress>
            </span>
            ğŸ’©<span @click="toilet(crt)">{{ crt.pp }} / {{ crt.mPp }}
                <progress :value="crt.pp" :max="crt.mPp">{{ crt.pp }}/{{ crt.mPp }}</progress>
            </span>
            <span v-if="crt.type < crt.ev.length">ğŸ’©{{ crt.ev[crt.type].pp }}</span>

            â±ï¸<progress :value="crt.pb" max="100">{{ crt.rem }}</progress>
            {{ crt.emoji }} {{ crt.name }}: ğŸ’°{{ crt.gld }} gld
            <!-- å£²å´ -->
            <button @click="sellcrt(crt)">å£²å´</button>
            <!-- ã‚±ãƒ¼ã‚¸ã«ç§»å‹• -->
            <button @click="moveToCage(crt)" v-if="!crt.inCage">ã‚±ãƒ¼ã‚¸ã«ç§»å‹•</button>
            <!-- ã‚±ãƒ¼ã‚¸ã‹ã‚‰ç§»å‹• -->
            <button @click="moveFromCage(crt)" v-if="crt.inCage">ã‚±ãƒ¼ã‚¸ã‹ã‚‰ç§»å‹•</button>
        </div>

        <h2>ã‚±ãƒ¼ã‚¸å†…ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼</h2>
        <div v-for="crt in cg" :key="crt.id" class="crt">
            ğŸ´<span>{{ crt.fu }} / {{ crt.ev[crt.type]?.fu || 100 }}
                <progress :value="crt.fu" max="100">{{ crt.fu }}%</progress>
            </span>
            ğŸ›<span>{{ crt.ha }} / {{ crt.ev[crt.type]?.ha || 100 }}
                <progress :value="crt.ha" max="100">{{ crt.ha }}%</progress>
            </span>
            ğŸ’©<span>{{ crt.pp }} / {{ crt.mPp }}
                <progress :value="crt.pp" :max="crt.mPp">{{ crt.pp }}/{{ crt.mPp }}</progress>
            </span>
            <span v-if="crt.type < crt.ev.length">ğŸ’©{{ crt.ev[crt.type].pp }}</span>

            â±ï¸<progress :value="crt.pb" max="100">{{ crt.rem }}</progress>
            {{ crt.emoji }} {{ crt.name }}: ğŸ’°{{ crt.gld }} gld
            <!-- ã‚±ãƒ¼ã‚¸ã‹ã‚‰ç§»å‹• -->
            <button @click="moveFromCage(crt)">ã‚±ãƒ¼ã‚¸ã‹ã‚‰ç§»å‹•</button>
        </div>

        <h2>ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼è³¼å…¥</h2>
        <div v-for="template in crtTemplates" :key="template.id" class="crt">
            <h4>{{ template.emoji }} {{ template.name }}: ğŸ’°{{ template.gld }} gld</h4>
            <button @click="buycrt(template)">è³¼å…¥ ({{ discountPrice(template.price) }} mny)</button>
        </div>

        <h2>My Prizes</h2>
        <div v-for="prize in myPrizes" :key="prize.id">
            <span>{{ prize.dsc }}</span>
            <button @click="usePrize(prize)">Use</button>
        </div>

        <h2>ã‚±ãƒ¼ã‚¸ç®¡ç†</h2>
        <div>
            <p>ã‚±ãƒ¼ã‚¸ã®ä¸Šé™: {{ maxCage }}</p>
            <button @click="buyCageSpace">ã‚±ãƒ¼ã‚¸ã‚’è³¼å…¥ ({{ cageCost }} mny)</button>
        </div>

        <h2>è¨­å®š</h2>
        <div>
            <label>æº€è…¹åº¦æ¸›å°‘é–“éš”: <input type="number" v-model.number="settings.fd" min="1"></label>
            <label>å¹¸ã›åº¦æ¸›å°‘é–“éš”: <input type="number" v-model.number="settings.hd" min="1"></label>
            <label>é€²åŒ–é–“éš”: <input type="number" v-model.number="settings.tm" min="1"></label>
        </div>

    </div>

<script>
// prizeã®æ¦‚å¿µã‚’å°å…¥ã™ã‚‹
// mny
// maxCage
// cageCost
// deathCount
// crtsã®æ•°
// é€²åŒ–ã—ãŸcrtsã®æ•°
// ã¨ã€ãã‚Œã‚‰ã®çµ„ã¿åˆã‚ã›ã§ã®æ¡ä»¶ã‚’æº€ãŸã™ã¨prizeã‚’ãƒ©ãƒ³ãƒ€ãƒ ã§1ã¤å¾—ã‚‰ã‚Œã‚‹

// prizeã«ã¯ä»¥ä¸‹ã®ç¨®é¡ãŒã‚ã‚‹
// å¾—ã‚‰ã‚Œã‚‹gldãŒnå€ã«ãªã‚‹(2å€ã€3å€ã€5å€ã€10å€)(ä¸€å®šã®timeã®é–“(3,5,10)) => 4*3=12
// cageCostãŒæ¸›ã‚‹(1,10,100,1000,10000(1ã‚’ä¸‹å›ã‚‰ãªã„)) => 5
// mnyãŒå¢—ãˆã‚‹(1,10,100,1000,10000) => 5
// cageã®å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®fuãŒ100%ã«ãªã‚‹(1å›ã ã‘) => 1
// cageã®ãƒ©ãƒ³ãƒ€ãƒ ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®fuãŒ100%ã«ãªã‚‹(1å›ã ã‘) => 1
// cageã®å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®haãŒ100%ã«ãªã‚‹(1å›ã ã‘) => 1
// cageã®ãƒ©ãƒ³ãƒ€ãƒ ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®haãŒ100%ã«ãªã‚‹(1å›ã ã‘) => 1
// crtså†…ã«ãƒ©ãƒ³ãƒ€ãƒ ã®ç¨®é¡ã®crtsãŒ1åŒ¹è¿½åŠ ã•ã‚Œã‚‹(1å›ã ã‘) => 1
// crtså†…ã«ãƒ©ãƒ³ãƒ€ãƒ ã«1åŒ¹ã®crtsãŒé€²åŒ–ã™ã‚‹(1å›ã ã‘) => 1
// cageå†…ã®crtsãŒãƒ©ãƒ³ãƒ€ãƒ ã«1åŒ¹é€²åŒ–ã™ã‚‹(1å›ã ã‘) => 1
// cageå†…ã®crtsãŒå…¨ã¦é€²åŒ–ã™ã‚‹(1å›ã ã‘) => 1
// ä¸€å®šã®timeã®é–“(3,5,10)æ¯å›ã€crtsã®é€²åŒ–ãŒé€Ÿããªã‚‹(2å€ã€3å€ã€5å€ã€10å€) => 3*4=12
// ä¸€å®šã®timeã®é–“(3,5,10)æ¯å›ã€crtsã®1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®fuãŒ100%ã«ãªã‚‹ => 3
// ä¸€å®šã®timeã®é–“(3,5,10)æ¯å›ã€crtsã®1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®haãŒ100%ã«ãªã‚‹ => 3
// ä¸€å®šã®timeã®é–“(3,5,10)æ¯å›ã€crtsã®1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®fuã¨haãŒ100%ã«ãªã‚‹ => 3
// ä¸€å®šã®timeã®é–“(3,5,10)æ¯å›ã€crtsã®å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®fuãŒ100%ã«ãªã‚‹ => 3
// ä¸€å®šã®timeã®é–“(3,5,10)æ¯å›ã€crtsã®å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®haãŒ100%ã«ãªã‚‹ => 3
// ä¸€å®šã®timeã®é–“(3,5,10)æ¯å›ã€crtsã®å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®fuã¨haãŒ100%ã«ãªã‚‹ => 3
// deathCountãŒæ¸›ã‚‹(1,2, 3, 5, 10) => 5


// åˆè¨ˆã§12+5+5+1+1+1+1+1+1+1+3*4+3+3+3+3+3+3+3+3+3+5=70


// prizeã®å–å¾—æ¡ä»¶ã¯ä»¥ä¸‹ã®é€šã‚Š
// mnyãŒ1000ä»¥ä¸Šã®æ™‚, mnyãŒ3000ä»¥ä¸Šã®æ™‚, mnyãŒ10000ä»¥ä¸Šã®æ™‚, mnyãŒ30000ä»¥ä¸Šã®æ™‚, mnyãŒ100000ä»¥ä¸Šã®æ™‚, mnyãŒ300000ä»¥ä¸Šã®æ™‚
// maxCageãŒ1ä»¥ä¸Šã®æ™‚, maxCageãŒ3ä»¥ä¸Šã®æ™‚, maxCageãŒ5ä»¥ä¸Šã®æ™‚, maxCageãŒ10ä»¥ä¸Šã®æ™‚, maxCageãŒ20ä»¥ä¸Šã®æ™‚, maxCageãŒ50ä»¥ä¸Šã®æ™‚
// deathCountãŒ1ä»¥ä¸Šã®æ™‚, deathCountãŒ3ä»¥ä¸Šã®æ™‚, deathCountãŒ5ä»¥ä¸Šã®æ™‚, deathCountãŒ10ä»¥ä¸Šã®æ™‚, deathCountãŒ20ä»¥ä¸Šã®æ™‚, deathCountãŒ50ä»¥ä¸Šã®æ™‚
// crtsã®æ•°ãŒ1ä»¥ä¸Šã®æ™‚, crtsã®æ•°ãŒ3ä»¥ä¸Šã®æ™‚, crtsã®æ•°ãŒ5ä»¥ä¸Šã®æ™‚, crtsã®æ•°ãŒ10ä»¥ä¸Šã®æ™‚, crtsã®æ•°ãŒ20ä»¥ä¸Šã®æ™‚, crtsã®æ•°ãŒ50ä»¥ä¸Šã®æ™‚

// mnyãŒ1000ä»¥ä¸Šã‹ã¤maxCageãŒ1ä»¥ä¸‹ã®æ™‚, mnyãŒ3000ä»¥ä¸Šã‹ã¤maxCageãŒ3ä»¥ä¸‹ã®æ™‚, mnyãŒ10000ä»¥ä¸Šã‹ã¤maxCageãŒ5ä»¥ä¸‹ã®æ™‚, mnyãŒ30000ä»¥ä¸Šã‹ã¤maxCageãŒ10ä»¥ä¸‹ã®æ™‚, mnyãŒ100000ä»¥ä¸Šã‹ã¤maxCageãŒ20ä»¥ä¸‹ã®æ™‚, mnyãŒ300000ä»¥ä¸Šã‹ã¤maxCageãŒ50ä»¥ä¸‹ã®æ™‚
// mnyãŒ1000ä»¥ä¸Šã‹ã¤maxCageãŒ1ä»¥ä¸‹ã®æ™‚, mnyãŒ3000ä»¥ä¸Šã‹ã¤maxCageãŒ3ä»¥ä¸‹ã®æ™‚, mnyãŒ10000ä»¥ä¸Šã‹ã¤maxCageãŒ5ä»¥ä¸‹ã®æ™‚, mnyãŒ30000ä»¥ä¸Šã‹ã¤maxCageãŒ10ä»¥ä¸‹ã®æ™‚, mnyãŒ100000ä»¥ä¸Šã‹ã¤maxCageãŒ20ä»¥ä¸‹ã®æ™‚, mnyãŒ300000ä»¥ä¸Šã‹ã¤maxCageãŒ50ä»¥ä¸‹ã®æ™‚
// mnyãŒ1000ä»¥ä¸Šã‹ã¤deathCountãŒ0ã®æ™‚ã€mnyãŒ1000ä»¥ä¸Šã‹ã¤deathCountãŒ1ä»¥ä¸‹ã®æ™‚, mnyãŒ3000ä»¥ä¸Šã‹ã¤deathCountãŒ3ä»¥ä¸‹ã®æ™‚, mnyãŒ10000ä»¥ä¸Šã‹ã¤deathCountãŒ5ä»¥ä¸‹ã®æ™‚, mnyãŒ30000ä»¥ä¸Šã‹ã¤deathCountãŒ10ä»¥ä¸‹ã®æ™‚, mnyãŒ100000ä»¥ä¸Šã‹ã¤deathCountãŒ20ä»¥ä¸‹ã®æ™‚, mnyãŒ300000ä»¥ä¸Šã‹ã¤deathCountãŒ50ä»¥ä¸‹ã®æ™‚

// maxCageãŒ1ä»¥ä¸Šã‹ã¤deathCountãŒ1ä»¥ä¸‹ã®æ™‚, maxCageãŒ3ä»¥ä¸Šã‹ã¤deathCountãŒ3ä»¥ä¸‹ã®æ™‚, maxCageãŒ5ä»¥ä¸Šã‹ã¤deathCountãŒ5ä»¥ä¸‹ã®æ™‚, maxCageãŒ10ä»¥ä¸Šã‹ã¤deathCountãŒ10ä»¥ä¸‹ã®æ™‚, maxCageãŒ20ä»¥ä¸Šã‹ã¤deathCountãŒ20ä»¥ä¸‹ã®æ™‚, maxCageãŒ50ä»¥ä¸Šã‹ã¤deathCountãŒ50ä»¥ä¸‹ã®æ™‚
// deathCountãŒ1ä»¥ä¸Šã‹ã¤crtsã®æ•°ãŒ1ä»¥ä¸‹ã®æ™‚, deathCountãŒ3ä»¥ä¸Šã‹ã¤crtsã®æ•°ãŒ3ä»¥ä¸‹ã®æ™‚, deathCountãŒ5ä»¥ä¸Šã‹ã¤crtsã®æ•°ãŒ5ä»¥ä¸‹ã®æ™‚, deathCountãŒ10ä»¥ä¸Šã‹ã¤crtsã®æ•°ãŒ10ä»¥ä¸‹ã®æ™‚, deathCountãŒ20ä»¥ä¸Šã‹ã¤crtsã®æ•°ãŒ20ä»¥ä¸‹ã®æ™‚, deathCountãŒ50ä»¥ä¸Šã‹ã¤crtsã®æ•°ãŒ50ä»¥ä¸‹ã®æ™‚
// æ¡ä»¶ã®ç¨®é¡ã¯ä»¥ä¸Šã®é€šã‚Šã§ã€ãã‚Œãã‚Œã®æ¡ä»¶ã‚’æº€ãŸã™ã¨prizeã‚’ãƒ©ãƒ³ãƒ€ãƒ ã§1ã¤å¾—ã‚‰ã‚Œã‚‹

// å–å¾—ã—ãŸprizeã¯myPrizeã«æ ¼ç´ã•ã‚Œã€å¾—ãŸprizeã¯ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨å®Ÿè¡Œã•ã‚Œã¦ã€ãã®åŠ¹æœãŒç™ºå‹•ã—ã€myPrizeã‹ã‚‰å‰Šé™¤ã•ã‚Œã‚‹ã€‚
// myPrizeã®å®Ÿè¡Œã¯timeråœæ­¢ä¸­ã®ã¿ã€‚
// prizeã®åŠ¹æœã¯é‡è¤‡ã™ã‚‹(åŠ ç®—ã•ã‚ŒãŸçµæœã«ä¹—ç®—ã•ã‚Œã‚‹)ã€‚
// prizeã®è¨ˆç®—ã¯ä¸Šé™å€¤ã‚’è¶…ãˆãŸå ´åˆã€ä¸Šé™å€¤ã«ãªã‚‹ã‚ˆã†ã«è¨ˆç®—ã•ã‚Œã‚‹ã€‚




const prizes = [
{ type: 'gldMultiplier', value: 2, drt: 3, dsc: 'å¾—ã‚‰ã‚Œã‚‹gldãŒ2å€ã«ãªã‚‹(3ç§’é–“)' },
{ type: 'gldMultiplier', value: 3, drt: 5, dsc: 'å¾—ã‚‰ã‚Œã‚‹gldãŒ3å€ã«ãªã‚‹(5ç§’é–“)' },
{ type: 'gldMultiplier', value: 5, drt: 10, dsc: 'å¾—ã‚‰ã‚Œã‚‹gldãŒ5å€ã«ãªã‚‹(10ç§’é–“)' },
{ type: 'gldMultiplier', value: 10, drt: 10, dsc: 'å¾—ã‚‰ã‚Œã‚‹gldãŒ10å€ã«ãªã‚‹(10ç§’é–“)' },
{ type: 'cageCostReduction', value: 1, dsc: 'ã‚±ãƒ¼ã‚¸ã®ã‚³ã‚¹ãƒˆãŒ1æ¸›ã‚‹' },
{ type: 'cageCostReduction', value: 10, dsc: 'ã‚±ãƒ¼ã‚¸ã®ã‚³ã‚¹ãƒˆãŒ10æ¸›ã‚‹' },
{ type: 'cageCostReduction', value: 100, dsc: 'ã‚±ãƒ¼ã‚¸ã®ã‚³ã‚¹ãƒˆãŒ100æ¸›ã‚‹' },
{ type: 'cageCostReduction', value: 1000, dsc: 'ã‚±ãƒ¼ã‚¸ã®ã‚³ã‚¹ãƒˆãŒ1000æ¸›ã‚‹' },
{ type: 'cageCostReduction', value: 10000, dsc: 'ã‚±ãƒ¼ã‚¸ã®ã‚³ã‚¹ãƒˆãŒ10000æ¸›ã‚‹' },
{ type: 'mnyIncrease', value: 1, dsc: 'ãƒãƒãƒ¼ãŒ1å¢—ãˆã‚‹' },
{ type: 'mnyIncrease', value: 10, dsc: 'ãƒãƒãƒ¼ãŒ10å¢—ãˆã‚‹' },
{ type: 'mnyIncrease', value: 100, dsc: 'ãƒãƒãƒ¼ãŒ100å¢—ãˆã‚‹' },
{ type: 'mnyIncrease', value: 1000, dsc: 'ãƒãƒãƒ¼ãŒ1000å¢—ãˆã‚‹' },
{ type: 'mnyIncrease', value: 10000, dsc: 'ãƒãƒãƒ¼ãŒ10000å¢—ãˆã‚‹' },
{ type: 'fullnessAll', dsc: 'ã‚±ãƒ¼ã‚¸ã®å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ãŒ100%ã«ãªã‚‹' },
{ type: 'fullnessRandom', dsc: 'ã‚±ãƒ¼ã‚¸ã®ãƒ©ãƒ³ãƒ€ãƒ ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ãŒ100%ã«ãªã‚‹' },
{ type: 'happinessAll', dsc: 'ã‚±ãƒ¼ã‚¸ã®å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹' },
{ type: 'happinessRandom', dsc: 'ã‚±ãƒ¼ã‚¸ã®ãƒ©ãƒ³ãƒ€ãƒ ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹' },
{ type: 'addRandomCrt', dsc: 'ãƒ©ãƒ³ãƒ€ãƒ ã®ç¨®é¡ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒ1åŒ¹è¿½åŠ ã•ã‚Œã‚‹' },
{ type: 'evolveRandomCrt', dsc: 'ãƒ©ãƒ³ãƒ€ãƒ ã«1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒé€²åŒ–ã™ã‚‹' },
{ type: 'evolveRandomCrtInCage', dsc: 'ã‚±ãƒ¼ã‚¸å†…ã®ãƒ©ãƒ³ãƒ€ãƒ ã«1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒé€²åŒ–ã™ã‚‹' },
{ type: 'evolveAllCrtInCage', dsc: 'ã‚±ãƒ¼ã‚¸å†…ã®å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒé€²åŒ–ã™ã‚‹' },
{ type: 'evolutionSpeedUp', value: 2, drt: 3, dsc: 'é€²åŒ–ãŒ2å€é€Ÿããªã‚‹(3ç§’é–“)' },
{ type: 'evolutionSpeedUp', value: 3, drt: 5, dsc: 'é€²åŒ–ãŒ3å€é€Ÿããªã‚‹(5ç§’é–“)' },
{ type: 'evolutionSpeedUp', value: 5, drt: 10, dsc: 'é€²åŒ–ãŒ5å€é€Ÿããªã‚‹(10ç§’é–“)' },
{ type: 'evolutionSpeedUp', value: 10, drt: 10, dsc: 'é€²åŒ–ãŒ10å€é€Ÿããªã‚‹(10ç§’é–“)' },
{ type: 'fullnessEveryInterval', value: 1, drt: 3, dsc: 'æ¯å›ã€1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ãŒ100%ã«ãªã‚‹(3ç§’é–“)' },
{ type: 'happinessEveryInterval', value: 1, drt: 3, dsc: 'æ¯å›ã€1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹(3ç§’é–“)' },
{ type: 'fullnessAndHappinessEveryInterval', value: 1, drt: 3, dsc: 'æ¯å›ã€1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ã¨å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹(3ç§’é–“)' },
{ type: 'fullnessAllEveryInterval', value: 1, drt: 3, dsc: 'æ¯å›ã€å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ãŒ100%ã«ãªã‚‹(3ç§’é–“)' },
{ type: 'happinessAllEveryInterval', value: 1, drt: 3, dsc: 'æ¯å›ã€å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹(3ç§’é–“)' },
{ type: 'fullnessAndHappinessAllEveryInterval', value: 1, drt: 3, dsc: 'æ¯å›ã€å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ã¨å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹(3ç§’é–“)' },
{ type: 'deathCountReduction', value: 1, dsc: 'æ­»äº¡æ•°ãŒ1æ¸›ã‚‹' },
{ type: 'deathCountReduction', value: 2, dsc: 'æ­»äº¡æ•°ãŒ2æ¸›ã‚‹' },
{ type: 'deathCountReduction', value: 3, dsc: 'æ­»äº¡æ•°ãŒ3æ¸›ã‚‹' },
{ type: 'deathCountReduction', value: 5, dsc: 'æ­»äº¡æ•°ãŒ5æ¸›ã‚‹' },
{ type: 'deathCountReduction', value: 10, dsc: 'æ­»äº¡æ•°ãŒ10æ¸›ã‚‹' }

    ];

    const app = Vue.createApp({
        data() {
            return {
                message: '',
                totalInterval: 0,
                deathCount: 0,
                cg: [],
                crts: [],
                crtTemplates: null,
                settings: { fd: 1, hd: 1, tm: 1 },
                timer: null,
                mny: 500, // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒãƒãƒ¼
                maxCage: 1, // ã‚±ãƒ¼ã‚¸ã®åˆæœŸä¸Šé™
                cageCost: 1, // ã‚±ãƒ¼ã‚¸ã®åˆæœŸã‚³ã‚¹ãƒˆ
                prizes: prizes,
                myPrizes: [],

                cnds: [
        { cnd: () => this.mny >= 1000, met: false },
        { cnd: () => this.mny >= 3000, met: false },
        { cnd: () => this.mny >= 10000, met: false },
        { cnd: () => this.mny >= 30000, met: false },
        { cnd: () => this.mny >= 100000, met: false },
        { cnd: () => this.mny >= 300000, met: false },
        { cnd: () => this.maxCage >= 1, met: false },
        { cnd: () => this.maxCage >= 3, met: false },
        { cnd: () => this.maxCage >= 5, met: false },
        { cnd: () => this.maxCage >= 10, met: false },
        { cnd: () => this.maxCage >= 20, met: false },
        { cnd: () => this.maxCage >= 50, met: false },
        { cnd: () => this.deathCount >= 1, met: false },
        { cnd: () => this.deathCount >= 3, met: false },
        { cnd: () => this.deathCount >= 5, met: false },
        { cnd: () => this.deathCount >= 10, met: false },
        { cnd: () => this.deathCount >= 20, met: false },
        { cnd: () => this.deathCount >= 50, met: false },
        { cnd: () => this.crts.length >= 1, met: false },
        { cnd: () => this.crts.length >= 3, met: false },
        { cnd: () => this.crts.length >= 5, met: false },
        { cnd: () => this.crts.length >= 10, met: false },
        { cnd: () => this.crts.length >= 20, met: false },
        { cnd: () => this.crts.length >= 50, met: false },
        { cnd: () => this.mny >= 1000 && this.maxCage <= 1, met: false },
        { cnd: () => this.mny >= 3000 && this.maxCage <= 3, met: false },
        { cnd: () => this.mny >= 10000 && this.maxCage <= 5, met: false },
        { cnd: () => this.mny >= 30000 && this.maxCage <= 10, met: false },
        { cnd: () => this.mny >= 100000 && this.maxCage <= 20, met: false },
        { cnd: () => this.mny >= 300000 && this.maxCage <= 50, met: false },
        { cnd: () => this.mny >= 1000 && this.deathCount <= 0, met: false },
        { cnd: () => this.mny >= 1000 && this.deathCount <= 1, met: false },
        { cnd: () => this.mny >= 3000 && this.deathCount <= 3, met: false },
        { cnd: () => this.mny >= 10000 && this.deathCount <= 5, met: false },
        { cnd: () => this.mny >= 30000 && this.deathCount <= 10, met: false },
        { cnd: () => this.mny >= 100000 && this.deathCount <= 20, met: false },
        { cnd: () => this.mny >= 300000 && this.deathCount <= 50, met: false },
        { cnd: () => this.maxCage >= 1 && this.deathCount <= 1, met: false },
        { cnd: () => this.maxCage >= 3 && this.deathCount <= 3, met: false },
        { cnd: () => this.maxCage >= 5 && this.deathCount <= 5, met: false },
        { cnd: () => this.maxCage >= 10 && this.deathCount <= 10, met: false },
        { cnd: () => this.maxCage >= 20 && this.deathCount <= 20, met: false },
        { cnd: () => this.maxCage >= 50 && this.deathCount <= 50, met: false },
        { cnd: () => this.deathCount >= 1 && this.crts.length <= 1, met: false },
        { cnd: () => this.deathCount >= 3 && this.crts.length <= 3, met: false },
        { cnd: () => this.deathCount >= 5 && this.crts.length <= 5, met: false },
        { cnd: () => this.deathCount >= 10 && this.crts.length <= 10, met: false },
        { cnd: () => this.deathCount >= 20 && this.crts.length <= 20, met: false },
        { cnd: () => this.deathCount >= 50 && this.crts.length <= 50, met: false },
    ],

};
        },
        computed: {
            totalppCount() {
                return this.crts.reduce((total, c) => total + c.pp, 0);
            }
        },
        watch: {
            crts: {
                handler() {
                    this.crts.length > 0 ? this.timer || this.startTimer() : this.stopTimer();
                },
                deep: true
            }
        },
        methods: {
            feed(c) { this.modifyStat(c, 'fu', 10); },
            play(c) { this.modifyStat(c, 'ha', 10); },
            toilet(c) { this.modifyStat(c, 'pp', -c.pp); },
            modifyStat(c, stat, value) {
                if (!c.alive || c.inCage) return;
                c[stat] = Math.min(Math.max(c[stat] + value, 0), 100);
                this.checkAlive(c);
            },
            evolve(c) {
                if (c.type >= c.ev.length) return;
                const ev = c.ev[c.type];
                ev && c.fu >= ev.fu && c.ha >= ev.ha && c.pp <= ev.pp
                    ? Object.assign(c, { name: ev.nNm, emoji: ev.nEm, gld: ev.nGd, mPp: ev.mPp, type: c.type + 1, message: `${c.name}ãŒé€²åŒ–ã—ãŸï¼` })
                    : c.message = `${c.name}ã¯é€²åŒ–ã§ãã¾ã›ã‚“ã€‚æ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ã¾ã›ã‚“ã€‚`;
            },
            checkAlive(c) {
                c.fu <= 0 || c.ha <= 0 || c.pp >= c.mPp
                    ? (Object.assign(c, { alive: false, message: `${c.name}ã¯äº¡ããªã‚Šã¾ã—ãŸã€‚` }), this.deathCount++, this.crts = this.crts.filter(crt => crt.id !== c.id))
                    : c.message = '';
            },
            buycrt(template) {
                if (this.mny >= template.price) {
                    this.mny -= this.discountPrice(template.price);
                    this.crts.push({ ...template, id: Date.now(), inCage: false });
                }
            },
            discountPrice(price) {
                return price - Math.floor(this.crts.length * 0.01 * price);
            },
            sellcrt(crt) {
                this.mny += crt.price / 2;
                this.crts = this.crts.filter(c => c.id !== crt.id);
            },
            moveToCage(crt) {
                if (this.cg.length < this.maxCage) {
                    crt.inCage = true;
                    this.cg.push(crt);
                    this.crts = this.crts.filter(c => c.id !== crt.id);
                }
            },
            moveFromCage(crt) {
                crt.inCage = false;
                this.crts.push(crt);
                this.cg = this.cg.filter(c => c.id !== crt.id);
            },
            buyCageSpace() {
                if (this.mny >= this.cageCost) {
                    this.mny -= this.cageCost;
                    this.maxCage++;
                    this.cageCost *= 2;
                }
            },
            startTimer() {
                this.timer = setInterval(() => {
                    this.crts.forEach(c => {
                        if (c.alive && !c.inCage) {
                            this.modifyStat(c, 'fu', -this.settings.fd);
                            this.modifyStat(c, 'ha', -this.settings.hd);
                            c.rem -= this.settings.tm;
                            c.pp++;
                            this.checkAlive(c);
                            c.rem <= 0 && (this.evolve(c), c.rem = 10);
                            c.pb = (c.rem / 10) * 100;
                            this.mny += c.gld;
                        }
                    });
                    this.totalInterval++;
                    this.checkPrizecnds();
                }, 1000);
            },
            stopTimer() { clearInterval(this.timer); this.timer = null; },
            checkPrizecnds() {
                let checkPrize = false;
                this.cnds.forEach(cond => {
                    // condã®æ¡ä»¶ãŒæº€ãŸã•ã‚ŒãŸã‚‰ã€prizeã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«å–å¾—ã—ã¦myPrizesã«è¿½åŠ ã™ã‚‹
                    if (cond.cnd() && cond.met === false && !checkPrize) {
                        const prize = this.getRandomPrize();
                        this.myPrizes.push(prize);
                        cond.met = true;
                        checkPrize = true;
                        // é”æˆã—ãŸæ¡ä»¶ã¨å¾—ãŸprizeã‚’messageã«è¡¨ç¤º
                        this.message = `${cond.cnd}ã‚’é”æˆã—ã¾ã—ãŸï¼${prize.dsc}ã‚’ç²å¾—ã—ã¾ã—ãŸï¼`;

                    }
                });
                this.cnds = this.cnds.filter(cond => !cond.met);
            },
            getRandomPrize() {
                const randomIndex = Math.floor(Math.random() * this.prizes.length);
                return this.prizes[randomIndex];
            },
            usePrize(prize) {
                // Implement the logic to apply the effect of the prize
                switch (prize.type) {
                    case 'gldMultiplier':
                        this.applyGldMultiplier(prize.value, prize.drt);
                        break;
                    // ... other cases
                    case 'cageCostReduction':
                        this.applyCageCostReduction(prize.value);
                        break;
                    case 'mnyIncrease':
                        this.applyMnyIncrease(prize.value);
                        break;
                    case 'fullnessAll':
                        this.applyFullnessAll();
                        break;
                    case 'fullnessRandom':
                        this.applyFullnessRandom();
                        break;
                    case 'happinessAll':
                        this.applyHappinessAll();
                        break;
                    case 'happinessRandom':
                        this.applyHappinessRandom();
                        break;
                    case 'addRandomCrt':
                        this.applyAddRandomCrt();
                        break;
                    case 'evolveRandomCrt':
                        this.applyEvolveRandomCrt();
                        break;
                    case 'evolveRandomCrtInCage':
                        this.applyEvolveRandomCrtInCage();
                        break;
                    case 'evolveAllCrtInCage':
                        this.applyEvolveAllCrtInCage();
                        break;
                    case 'evolutionSpeedUp':
                        this.applyEvolutionSpeedUp(prize.value, prize.drt);
                        break;
                    case 'fullnessEveryInterval':
                        this.applyFullnessEveryInterval(prize.value, prize.drt);
                        break;
                    case 'happinessEveryInterval':
                        this.applyHappinessEveryInterval(prize.value, prize.drt);
                        break;
                    case 'fullnessAndHappinessEveryInterval':
                        this.applyFullnessAndHappinessEveryInterval(prize.value, prize.drt);
                        break;
                    case 'fullnessAllEveryInterval':
                        this.applyFullnessAllEveryInterval(prize.value, prize.drt);
                        break;
                    case 'happinessAllEveryInterval':
                        this.applyHappinessAllEveryInterval(prize.value, prize.drt);
                        break;
                    case 'fullnessAndHappinessAllEveryInterval':
                        this.applyFullnessAndHappinessAllEveryInterval(prize.value, prize.drt);
                        break;
                    case 'deathCountReduction':
                        this.applyDeathCountReduction(prize.value);
                        break;

                }
                this.myPrizes = this.myPrizes.filter(p => p !== prize);
            },

    applyGldMultiplier(value, drt) {
        const originalGld = this.mny;
        this.mny *= value;
        setTimeout(() => {
            this.mny = originalGld;
        }, drt * 1000);
    },

    // cageCostReduction: ã‚±ãƒ¼ã‚¸ã®ã‚³ã‚¹ãƒˆãŒæ¸›ã‚‹
    applyCageCostReduction(value) {
        this.cageCost = Math.max(this.cageCost - value, 1);
    },

    // mnyIncrease: ãƒãƒãƒ¼ãŒå¢—ãˆã‚‹
    applyMnyIncrease(value) {
        this.mny += value;
    },

    // fullnessAll: ã‚±ãƒ¼ã‚¸ã®å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ãŒ100%ã«ãªã‚‹
    applyFullnessAll() {
        this.cg.forEach(crt => crt.fu = 100);
    },

    // fullnessRandom: ã‚±ãƒ¼ã‚¸ã®ãƒ©ãƒ³ãƒ€ãƒ ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ãŒ100%ã«ãªã‚‹
    applyFullnessRandom() {
        const randomCrt = this.cg[Math.floor(Math.random() * this.cg.length)];
        if (randomCrt) randomCrt.fu = 100;
    },

    // happinessAll: ã‚±ãƒ¼ã‚¸ã®å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹
    applyHappinessAll() {
        this.cg.forEach(crt => crt.ha = 100);
    },

    // happinessRandom: ã‚±ãƒ¼ã‚¸ã®ãƒ©ãƒ³ãƒ€ãƒ ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹
    applyHappinessRandom() {
        const randomCrt = this.cg[Math.floor(Math.random() * this.cg.length)];
        if (randomCrt) randomCrt.ha = 100;
    },

    // addRandomCrt: ãƒ©ãƒ³ãƒ€ãƒ ã®ç¨®é¡ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒ1åŒ¹è¿½åŠ ã•ã‚Œã‚‹
    applyAddRandomCrt() {
        const randomTemplate = this.crtTemplates[Math.floor(Math.random() * this.crtTemplates.length)];
        if (randomTemplate) {
            this.crts.push({ ...randomTemplate, id: Date.now(), inCage: false });
        }
    },

    // evolveRandomCrt: ãƒ©ãƒ³ãƒ€ãƒ ã«1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒé€²åŒ–ã™ã‚‹
    applyEvolveRandomCrt() {
        const randomCrt = this.crts[Math.floor(Math.random() * this.crts.length)];
        if (randomCrt) this.evolve(randomCrt);
    },

    // evolveRandomCrtInCage: ã‚±ãƒ¼ã‚¸å†…ã®ãƒ©ãƒ³ãƒ€ãƒ ã«1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒé€²åŒ–ã™ã‚‹
    applyEvolveRandomCrtInCage() {
        const randomCrt = this.cg[Math.floor(Math.random() * this.cg.length)];
        if (randomCrt) this.evolve(randomCrt);
    },

    // evolveAllCrtInCage: ã‚±ãƒ¼ã‚¸å†…ã®å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒé€²åŒ–ã™ã‚‹
    applyEvolveAllCrtInCage() {
        this.cg.forEach(crt => this.evolve(crt));
    },

    // evolutionSpeedUp: é€²åŒ–ãŒé€Ÿããªã‚‹
    applyEvolutionSpeedUp(value, drt) {
        const originalTm = this.settings.tm;
        this.settings.tm /= value;
        setTimeout(() => {
            this.settings.tm = originalTm;
        }, drt * 1000);
    },

    // fullnessEveryInterval: æ¯å›ã€1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ãŒ100%ã«ãªã‚‹
    applyFullnessEveryInterval(value, drt) {
        const interval = setInterval(() => {
            const randomCrt = this.crts[Math.floor(Math.random() * this.crts.length)];
            if (randomCrt) randomCrt.fu = 100;
        }, 1000);
        setTimeout(() => clearInterval(interval), drt * 1000);
    },

    // happinessEveryInterval: æ¯å›ã€1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹
    applyHappinessEveryInterval(value, drt) {
        const interval = setInterval(() => {
            const randomCrt = this.crts[Math.floor(Math.random() * this.crts.length)];
            if (randomCrt) randomCrt.ha = 100;
        }, 1000);
        setTimeout(() => clearInterval(interval), drt * 1000);
    },

    // fullnessAndHappinessEveryInterval: æ¯å›ã€1åŒ¹ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ã¨å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹
    applyFullnessAndHappinessEveryInterval(value, drt) {
        const interval = setInterval(() => {
            const randomCrt = this.crts[Math.floor(Math.random() * this.crts.length)];
            if (randomCrt) {
                randomCrt.fu = 100;
                randomCrt.ha = 100;
            }
        }, 1000);
        setTimeout(() => clearInterval(interval), drt * 1000);
    },

    // fullnessAllEveryInterval: æ¯å›ã€å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ãŒ100%ã«ãªã‚‹
    applyFullnessAllEveryInterval(value, drt) {
        const interval = setInterval(() => {
            this.crts.forEach(crt => crt.fu = 100);
        }, 1000);
        setTimeout(() => clearInterval(interval), drt * 1000);
    },

    // happinessAllEveryInterval: æ¯å›ã€å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹
    applyHappinessAllEveryInterval(value, drt) {
        const interval = setInterval(() => {
            this.crts.forEach(crt => crt.ha = 100);
        }, 1000);
        setTimeout(() => clearInterval(interval), drt * 1000);
    },

    // fullnessAndHappinessAllEveryInterval: æ¯å›ã€å…¨ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æº€è…¹åº¦ã¨å¹¸ã›åº¦ãŒ100%ã«ãªã‚‹
    applyFullnessAndHappinessAllEveryInterval(value, drt) {
        const interval = setInterval(() => {
            this.crts.forEach(crt => {
                crt.fu = 100;
                crt.ha = 100;
            });
        }, 1000);
        setTimeout(() => clearInterval(interval), drt * 1000);
    },

    // deathCountReduction: æ­»äº¡æ•°ãŒæ¸›ã‚‹
    applyDeathCountReduction(value) {
        this.deathCount = Math.max(this.deathCount - value, 0);
    },

        },
        mounted() {
            this.crtTemplates = crtTemplates;
        },
        beforeUnmount() {
            this.stopTimer();
        },
    }).mount('#app');
</script>

</body>
</html>